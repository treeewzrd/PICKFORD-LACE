{"ast":null,"code":"import{UPDATE_PRODUCTS,ADD_TO_CART,UPDATE_CART_QUANTITY,REMOVE_FROM_CART,ADD_MULTIPLE_TO_CART,CLEAR_CART,TOGGLE_CART,UPDATE_CATEGORIES,UPDATE_CURRENT_CATEGORY}from'./actions';export const reducer=(state,action)=>{switch(action.type){case UPDATE_PRODUCTS:return{...state,products:[...action.products]};case ADD_TO_CART:return{...state,cartOpen:true,cart:[...state.cart,action.product]};case ADD_MULTIPLE_TO_CART:return{...state,cart:[...state.cart,...action.products]};case UPDATE_CART_QUANTITY:return{...state,cartOpen:true,cart:state.cart.map(product=>{if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})};case REMOVE_FROM_CART:let newState=state.cart.filter(product=>{return product._id!==action._id;});return{...state,cartOpen:newState.length>0,cart:newState};case CLEAR_CART:return{...state,cartOpen:false,cart:[]};case TOGGLE_CART:return{...state,cartOpen:!state.cartOpen};case UPDATE_CATEGORIES:return{...state,categories:[...action.categories]};case UPDATE_CURRENT_CATEGORY:return{...state,currentCategory:action.currentCategory};default:return state;}};","map":{"version":3,"names":["UPDATE_PRODUCTS","ADD_TO_CART","UPDATE_CART_QUANTITY","REMOVE_FROM_CART","ADD_MULTIPLE_TO_CART","CLEAR_CART","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","reducer","state","action","type","products","cartOpen","cart","product","map","_id","purchaseQuantity","newState","filter","length","categories","currentCategory"],"sources":["C:/Bootcamp/mern-graphql-ecommerce/client/src/utils/reducers.js"],"sourcesContent":["import {\r\n    UPDATE_PRODUCTS,\r\n    ADD_TO_CART,\r\n    UPDATE_CART_QUANTITY,\r\n    REMOVE_FROM_CART,\r\n    ADD_MULTIPLE_TO_CART,\r\n    CLEAR_CART,\r\n    TOGGLE_CART,\r\n    UPDATE_CATEGORIES,\r\n    UPDATE_CURRENT_CATEGORY\r\n  } from './actions';\r\n  \r\n  export const reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case UPDATE_PRODUCTS:\r\n        return {\r\n          ...state,\r\n          products: [...action.products]\r\n        };\r\n  \r\n      case ADD_TO_CART:\r\n        return {\r\n          ...state,\r\n          cartOpen: true,\r\n          cart: [...state.cart, action.product]\r\n        };\r\n  \r\n      case ADD_MULTIPLE_TO_CART:\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart, ...action.products]\r\n        };\r\n  \r\n      case UPDATE_CART_QUANTITY:\r\n        return {\r\n          ...state,\r\n          cartOpen: true,\r\n          cart: state.cart.map(product => {\r\n            if (action._id === product._id) {\r\n              product.purchaseQuantity = action.purchaseQuantity;\r\n            }\r\n            return product;\r\n          })\r\n        };\r\n  \r\n      case REMOVE_FROM_CART:\r\n        let newState = state.cart.filter(product => {\r\n          return product._id !== action._id;\r\n        });\r\n  \r\n        return {\r\n          ...state,\r\n          cartOpen: newState.length > 0,\r\n          cart: newState\r\n        };\r\n  \r\n      case CLEAR_CART:\r\n        return {\r\n          ...state,\r\n          cartOpen: false,\r\n          cart: []\r\n        };\r\n  \r\n      case TOGGLE_CART:\r\n        return {\r\n          ...state,\r\n          cartOpen: !state.cartOpen\r\n        };\r\n  \r\n      case UPDATE_CATEGORIES:\r\n        return {\r\n          ...state,\r\n          categories: [...action.categories]\r\n        };\r\n  \r\n      case UPDATE_CURRENT_CATEGORY:\r\n        return {\r\n          ...state,\r\n          currentCategory: action.currentCategory\r\n        };\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,OACIA,eAAe,CACfC,WAAW,CACXC,oBAAoB,CACpBC,gBAAgB,CAChBC,oBAAoB,CACpBC,UAAU,CACVC,WAAW,CACXC,iBAAiB,CACjBC,uBAAuB,KAClB,WAAW,CAElB,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACxC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,CAAAZ,eAAe,CAClB,MAAO,CACL,GAAGU,KAAK,CACRG,QAAQ,CAAE,CAAC,GAAGF,MAAM,CAACE,QAAQ,CAC/B,CAAC,CAEH,IAAK,CAAAZ,WAAW,CACd,MAAO,CACL,GAAGS,KAAK,CACRI,QAAQ,CAAE,IAAI,CACdC,IAAI,CAAE,CAAC,GAAGL,KAAK,CAACK,IAAI,CAAEJ,MAAM,CAACK,OAAO,CACtC,CAAC,CAEH,IAAK,CAAAZ,oBAAoB,CACvB,MAAO,CACL,GAAGM,KAAK,CACRK,IAAI,CAAE,CAAC,GAAGL,KAAK,CAACK,IAAI,CAAE,GAAGJ,MAAM,CAACE,QAAQ,CAC1C,CAAC,CAEH,IAAK,CAAAX,oBAAoB,CACvB,MAAO,CACL,GAAGQ,KAAK,CACRI,QAAQ,CAAE,IAAI,CACdC,IAAI,CAAEL,KAAK,CAACK,IAAI,CAACE,GAAG,CAACD,OAAO,EAAI,CAC9B,GAAIL,MAAM,CAACO,GAAG,GAAKF,OAAO,CAACE,GAAG,CAAE,CAC9BF,OAAO,CAACG,gBAAgB,CAAGR,MAAM,CAACQ,gBAAgB,CACpD,CACA,MAAO,CAAAH,OAAO,CAChB,CAAC,CACH,CAAC,CAEH,IAAK,CAAAb,gBAAgB,CACnB,GAAI,CAAAiB,QAAQ,CAAGV,KAAK,CAACK,IAAI,CAACM,MAAM,CAACL,OAAO,EAAI,CAC1C,MAAO,CAAAA,OAAO,CAACE,GAAG,GAAKP,MAAM,CAACO,GAAG,CACnC,CAAC,CAAC,CAEF,MAAO,CACL,GAAGR,KAAK,CACRI,QAAQ,CAAEM,QAAQ,CAACE,MAAM,CAAG,CAAC,CAC7BP,IAAI,CAAEK,QACR,CAAC,CAEH,IAAK,CAAAf,UAAU,CACb,MAAO,CACL,GAAGK,KAAK,CACRI,QAAQ,CAAE,KAAK,CACfC,IAAI,CAAE,EACR,CAAC,CAEH,IAAK,CAAAT,WAAW,CACd,MAAO,CACL,GAAGI,KAAK,CACRI,QAAQ,CAAE,CAACJ,KAAK,CAACI,QACnB,CAAC,CAEH,IAAK,CAAAP,iBAAiB,CACpB,MAAO,CACL,GAAGG,KAAK,CACRa,UAAU,CAAE,CAAC,GAAGZ,MAAM,CAACY,UAAU,CACnC,CAAC,CAEH,IAAK,CAAAf,uBAAuB,CAC1B,MAAO,CACL,GAAGE,KAAK,CACRc,eAAe,CAAEb,MAAM,CAACa,eAC1B,CAAC,CAEH,QACE,MAAO,CAAAd,KAAK,CAChB,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}