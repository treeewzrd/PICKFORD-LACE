{"ast":null,"code":"import React,{useEffect}from'react';import{useQuery}from'@apollo/client';import{useStoreContext}from'../../utils/GlobalState';import{UPDATE_PRODUCTS}from'../../utils/actions';import ProductItem from'../ProductItem';import{QUERY_PRODUCTS}from'../../utils/queries';import spinner from'../../assets/spinner.gif';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductList(){const[state,dispatch]=useStoreContext();const{currentCategory}=state;const{loading,data}=useQuery(QUERY_PRODUCTS);useEffect(()=>{if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});}},[data,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(product=>product.category._id===currentCategory);}return/*#__PURE__*/_jsxs(\"div\",{className:\"my-2\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Products:\"}),state.products.length?/*#__PURE__*/_jsx(\"div\",{className:\"flex-row\",children:filterProducts().map(product=>/*#__PURE__*/_jsx(ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity,description:product.description},product._id))}):/*#__PURE__*/_jsx(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/_jsx(\"img\",{src:spinner,alt:\"loading\"}):null]});}export default ProductList;","map":{"version":3,"names":["React","useEffect","useQuery","useStoreContext","UPDATE_PRODUCTS","ProductItem","QUERY_PRODUCTS","spinner","jsx","_jsx","jsxs","_jsxs","ProductList","state","dispatch","currentCategory","loading","data","type","products","filterProducts","filter","product","category","_id","className","children","length","map","image","name","price","quantity","description","src","alt"],"sources":["C:/Bootcamp/mern-graphql-ecommerce/client/src/components/ProductList/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport ProductItem from '../ProductItem';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries';\r\nimport spinner from '../../assets/spinner.gif';\r\n\r\nfunction ProductList() {\r\n  const [state, dispatch] = useStoreContext();\r\n  const { currentCategory } = state;\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        products: data.products,\r\n      });\r\n    }\r\n  }, [data, dispatch]);\r\n\r\n  function filterProducts() {\r\n    if (!currentCategory) {\r\n      return state.products;\r\n    }\r\n\r\n    return state.products.filter(\r\n      (product) => product.category._id === currentCategory\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"my-2\">\r\n      <h2>Our Products:</h2>\r\n      {state.products.length ? (\r\n        <div className=\"flex-row\">\r\n          {filterProducts().map((product) => (\r\n            <ProductItem\r\n              key={product._id}\r\n              _id={product._id}\r\n              image={product.image}\r\n              name={product.name}\r\n              price={product.price}\r\n              quantity={product.quantity}\r\n              description={product.description}\r\n            />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <h3>You haven't added any products yet!</h3>\r\n      )}\r\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,OAASC,eAAe,KAAQ,yBAAyB,CACzD,OAASC,eAAe,KAAQ,qBAAqB,CACrD,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,OAASC,cAAc,KAAQ,qBAAqB,CACpD,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,eAAe,CAAC,CAAC,CAC3C,KAAM,CAAEY,eAAgB,CAAC,CAAGF,KAAK,CACjC,KAAM,CAAEG,OAAO,CAAEC,IAAK,CAAC,CAAGf,QAAQ,CAACI,cAAc,CAAC,CAElDL,SAAS,CAAC,IAAM,CACd,GAAIgB,IAAI,CAAE,CACRH,QAAQ,CAAC,CACPI,IAAI,CAAEd,eAAe,CACrBe,QAAQ,CAAEF,IAAI,CAACE,QACjB,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACF,IAAI,CAAEH,QAAQ,CAAC,CAAC,CAEpB,QAAS,CAAAM,cAAcA,CAAA,CAAG,CACxB,GAAI,CAACL,eAAe,CAAE,CACpB,MAAO,CAAAF,KAAK,CAACM,QAAQ,CACvB,CAEA,MAAO,CAAAN,KAAK,CAACM,QAAQ,CAACE,MAAM,CACzBC,OAAO,EAAKA,OAAO,CAACC,QAAQ,CAACC,GAAG,GAAKT,eACxC,CAAC,CACH,CAEA,mBACEJ,KAAA,QAAKc,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjB,IAAA,OAAAiB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBb,KAAK,CAACM,QAAQ,CAACQ,MAAM,cACpBlB,IAAA,QAAKgB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBN,cAAc,CAAC,CAAC,CAACQ,GAAG,CAAEN,OAAO,eAC5Bb,IAAA,CAACJ,WAAW,EAEVmB,GAAG,CAAEF,OAAO,CAACE,GAAI,CACjBK,KAAK,CAAEP,OAAO,CAACO,KAAM,CACrBC,IAAI,CAAER,OAAO,CAACQ,IAAK,CACnBC,KAAK,CAAET,OAAO,CAACS,KAAM,CACrBC,QAAQ,CAAEV,OAAO,CAACU,QAAS,CAC3BC,WAAW,CAAEX,OAAO,CAACW,WAAY,EAN5BX,OAAO,CAACE,GAOd,CACF,CAAC,CACC,CAAC,cAENf,IAAA,OAAAiB,QAAA,CAAI,qCAAmC,CAAI,CAC5C,CACAV,OAAO,cAAGP,IAAA,QAAKyB,GAAG,CAAE3B,OAAQ,CAAC4B,GAAG,CAAC,SAAS,CAAE,CAAC,CAAG,IAAI,EAClD,CAAC,CAEV,CAEA,cAAe,CAAAvB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}